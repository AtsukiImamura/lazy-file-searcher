# lazy-file-searcher

検索ディレクトリパターンなどのオプションを保存しながらファイル検索できる。

![demo](https://github.com/AtsukiImamura/lazy-file-searcher/blob/image/image/demo.png)

## オプション

| オプション | 解説                                                                                                                                                                                                                                    |
| ---------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| -q         | 検索条件。正規表現を使用可能。検索する場合必須（保存オプション呼び出し時は除く）。                                                                                                                                                      |
| -t         | 対象ディレクトリ。ワイルドカードを使用可能。指定しない場合は現在のフォルダ直下の全てのファイルを対象とする<br><ul><li>`*` : 任意の文字列</li><li>`?` : 任意の一文字</li> <li> `**` : 再帰的にディレクトリを探索（ex: `./**/*.?s`）</li> |
| -e         | ファイルの文字エンコーディング。エンコーディングエラーの場合でも全てのファイルが一度は検索される。                                                                                                                                      |
| -s         | 現在のオプションを呼び出しキーを指定して保存する。                                                                                                                                                                                      |
| -S         | 保存したオプションを呼び出しキーを用いて使用する。検索条件を指定しなければ保存された検索条件が使用される。                                                                                                                              |
| -i         | 各ファイル各行の先頭から指定文字数を無視する。指定しない場合は先頭から 8 文字を無視する。主に、行頭に行番号を書く必要のある COBOL ファイル用                                                                                            |
| -g         | 検索結果の出力をファイルパスだけの簡易版にする。指定しない場合はファイルパスとともにマッチした行の内容を表示                                                                                                                            |
| --list     | 保存したオプションの一覧を表示                                                                                                                                                                                                          |
| -h         | ヘルプを表示                                                                                                                                                                                                                            |

## 使用例

再帰的に検索し、オプションを `key1` という名前で保存する。

```
python csch.py -q "hoge" -t "./**/*.*" -s "key1"
```

保存したオプションを呼び出す

```
python csch.py -S "key1"
```

保存したオプションを呼び出し、検索条件は上書きする。

```
python csch.py -S "key1" -q "piyo"
```

ファイルエンコーディングや無視する先頭文字列数を調整する

```
python csch.py -q "hoge" -t "./**/*.*" -i 0 -e "shift-jis"
```
